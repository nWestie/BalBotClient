
<SprungSlider>:
    min:-100
    max:100
    value: 0
    orientation:'vertical'
    padding: 10
    value_track_width: '5dp'
    on_active: self.sliderReleased()


<PIDButton>:
    background_down: self.theme_cls.primary_dark
    group: 'pid'
    size_hint: .25,1
    line_width: '2dp'
    line_color: app.theme_cls.primary_light
    text: ""
    on_press: self.pressed(self.text)

<PIDRadioGroup@MDBoxLayout>
    group_id: 'pidRadio'
    orientation: 'horizontal'
    size_hint: 1, None
    height: '50dp'
    padding: '5dp'
    spacing: '8dp'
    PIDButton:
        text: "5"
    PIDButton:
        text: "1"
        state: "down"
    PIDButton:
        text: ".1"
    PIDButton:
        text: ".01"
    
<NumSpinner@MDBoxLayout>
    name: ""
    value: 10.0

    size_hint: None, None
    adaptive_width: True
    pos_hint: {'right': 1}
    orientation: 'horizontal'
    padding: '5dp'
    height: '80dp'
    spacing: '5dp'
    MDLabel:
        size_hint: None, 1
        valign: 'center'
        halign: 'right'
        font_size: '20dp'
        text: self.parent.name + ": "
    TextInput:
        size_hint: None, None
        halign: 'center'
        pos_hint: {'center_y': .5}
        padding_y: '7dp'
        height: self.line_height+sum(self.padding_y)

        font_size: 20
        multiline: False
        write_tab: False
        input_filter: 'float'
        text: "{0:.3f}".format(root.value)
        on_text: root.textUpdated(self.text)
    MDBoxLayout:
        adaptive_width: True
        orientation: 'vertical'
        size_hint: None, 1
        spacing: '3dp'
        width: '60dp'
        MDFloatingActionButton:
            icon: 'chevron-up'
            size_hint: 1, .5
            on_press: root.plusPressed()
        MDFloatingActionButton:
            icon: 'chevron-down'
            size_hint: 1, .5
            on_press: root.minusPressed()

<ControllerMain>
    pObj: pObj
    iObj: iObj
    dObj: dObj
    trimObj: trimObj
    MDAnchorLayout:
        size: root.size
        anchor_x: 'right'
        anchor_y: 'bottom'
        padding: '20dp'
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: None, 1
            width: '300dp'
            adaptive_height: True

            PIDRadioGroup:
            NumSpinner:
                id: trimObj
                name: "Trim"
                value: 0
                padding: '5dp','15dp','5dp','15dp'
                height: '90dp'

            NumSpinner:
                id: pObj
                name: "kP"
                value: 1.0
            NumSpinner:
                id: iObj
                name: 'kI'
                value: 2.0
            NumSpinner:
                id: dObj
                name: 'kD'
                value: 3.0
            MDBoxLayout:
                size_hint: 1, None
                adaptive_width: True
                height: '60dp'
                orientation: 'horizontal'
                pos_hint: {'right': 1}
                spacing: '7dp'
                padding: '7dp'
                MDRaisedButton:
                    size_hint: None, 1
                    text: 'SEND PID'
                    on_press: root.sendPID()
                MDRaisedButton:
                    size_hint: None, 1
                    text: 'SAVE PID'
                    md_bg_color: self.theme_cls.primary_dark
                    on_press: root.savePID()
    AnchorLayout:
        size: root.size
        anchor_x: 'left'
        anchor_y: 'center'
        BoxLayout:
            size_hint: .25,.5
            orientation: 'horizontal'
            spacing: .07*self.width
            SprungSlider:
               
